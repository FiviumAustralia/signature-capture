<!DOCTYPE HTML>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="styles/style.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script type="text/javascript" src="src/3rd_party/grid.js"></script>
		<script type="text/javascript" src="src/3rd_party/version.js"></script>
		<script type="text/javascript" src="src/3rd_party/detector.js"></script>
		<script type="text/javascript" src="src/3rd_party/formatinf.js"></script>
		<script type="text/javascript" src="src/3rd_party/errorlevel.js"></script>
		<script type="text/javascript" src="src/3rd_party/bitmat.js"></script>
		<script type="text/javascript" src="src/3rd_party/datablock.js"></script>
		<script type="text/javascript" src="src/3rd_party/bmparser.js"></script>
		<script type="text/javascript" src="src/3rd_party/datamask.js"></script>
		<script type="text/javascript" src="src/3rd_party/rsdecoder.js"></script>
		<script type="text/javascript" src="src/3rd_party/gf256poly.js"></script>
		<script type="text/javascript" src="src/3rd_party/gf256.js"></script>
		<script type="text/javascript" src="src/3rd_party/decoder.js"></script>
		<script type="text/javascript" src="src/3rd_party/qrcode.js"></script>
		<script type="text/javascript" src="src/3rd_party/findpat.js"></script>
		<script type="text/javascript" src="src/3rd_party/alignpat.js"></script>
		<script type="text/javascript" src="src/3rd_party/databr.js"></script>
		<script type="text/javascript" src="src/qr_signature.js"></script>
		<link rel="manifest" href="src/manifest.json">
	</head>
	<body>
	<!-- This is a test test file, while the developing is in progress -->
	<div id='status' style='position:fixed;top:0;left:0;font-family:Verdana;text-align:center;'></div>
	<div id="sk-folding-cube-container" class="sk-folding-cube">
		<div class="sk-cube1 sk-cube"></div>
		<div class="sk-cube2 sk-cube"></div>
		<div class="sk-cube4 sk-cube"></div>
		<div class="sk-cube3 sk-cube"></div>
	</div>
	<video style="display:none;" id='video'></video>
	<canvas id='original-canvas'></canvas>
	<div id='rectangle'></div>
	<canvas id='qr-canvas'></canvas>
	<canvas id='operation-canvas' ></canvas>
	<div id='qr-content'></div>
	
	<div id="file_button" class="file_button_container"><input type="file" id="input" name="input" accept="image/*" capture="camera"></input></div>
	<script>
		test = new qrSignature();
	</script>
	<script src="src/3rd_party/aes.js"></script>
	<script src="src/3rd_party/pbkdf2.js"></script>
	<script>
	var salt = CryptoJS.lib.WordArray.random(128/8); 
		var key256Bits500Iterations = CryptoJS.PBKDF2("Secret Passphrase", salt, { keySize: 256/32, iterations: 500 });
		var iv  = CryptoJS.enc.Hex.parse('101112131415161718191a1b1c1d1e1f');

		var encrypted = CryptoJS.AES.encrypt("Message", key256Bits500Iterations, { iv: iv });  
		var data_base64 = encrypted.ciphertext.toString(CryptoJS.enc.Base64); 
		var iv_base64   = encrypted.iv.toString(CryptoJS.enc.Base64);       
		var key_base64  = encrypted.key.toString(CryptoJS.enc.Base64);
		console.log(encrypted);
		console.log("encrypted:"+encrypted);
		console.log("data_base64:"+data_base64);
		console.log("iv_base64:"+iv_base64);
		console.log("key_base64:"+key_base64);
	</script>
	<a href="javascript:void(0);" onclick='findQr();' id="find_qr_btn" class="round-button" style="display:none;">Scan</a>
	</body>
</html> 